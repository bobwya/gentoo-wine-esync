--- a/0025-server-Create-eventfd-descriptors-for-device-manager.patch	2018-10-07 03:47:11.000000000 +0100
+++ b/0025-server-Create-eventfd-descriptors-for-device-manager.patch	2020-04-29 20:41:33.653357586 +0100
@@ -74,10 +74,10 @@
  static void device_manager_destroy( struct object *obj )
  {
      struct device_manager *manager = (struct device_manager *)obj;
-@@ -618,6 +631,9 @@ static void device_manager_destroy( struct object *obj )
-     {
-         struct device *device = LIST_ENTRY( ptr, struct device, entry );
+@@ -687,6 +700,9 @@ static void device_manager_destroy( struct object *obj )
+         grab_object( &device->obj );
          delete_device( device );
+         release_object( &device->obj );
 +
 +        if (do_esync())
 +            close( manager->esync_fd );
