--- a/0041-server-Allocate-shared-memory-segments-for-semaphore.patch	2018-10-07 03:47:11.000000000 +0100
+++ b/0041-server-Allocate-shared-memory-segments-for-semaphore.patch	2018-11-17 23:00:31.603665009 +0000
@@ -31,7 +31,9 @@
 index 68945ec..c262bee 100644
 --- a/include/wine/server_protocol.h
 +++ b/include/wine/server_protocol.h
-@@ -5660,6 +5660,8 @@ struct create_esync_reply
+@@ -5602,8 +5602,10 @@ struct create_esync_reply
+ struct create_esync_reply
+ {
      struct reply_header __header;
      obj_handle_t handle;
      int          type;
@@ -40,7 +42,9 @@
  };
  
  
-@@ -5678,6 +5680,8 @@ struct open_esync_reply
+@@ -5620,8 +5622,10 @@ struct open_esync_reply
+ struct open_esync_reply
+ {
      struct reply_header __header;
      obj_handle_t handle;
      int          type;
@@ -49,14 +53,6 @@
  };
  
  
-@@ -6600,6 +6604,6 @@ union generic_reply
-     struct get_esync_fd_reply get_esync_fd_reply;
- };
- 
--#define SERVER_PROTOCOL_VERSION 571
-+#define SERVER_PROTOCOL_VERSION 572
- 
- #endif /* __WINE_WINE_SERVER_PROTOCOL_H */
 diff --git a/server/esync.c b/server/esync.c
 index 399011f..f1a46af 100644
 --- a/server/esync.c
