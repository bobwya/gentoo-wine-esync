--- a/0079-ntdll-server-Revert-to-old-implementation-of-hung-qu.patch	2018-11-01 17:19:44.000000000 +0000
+++ b/0079-ntdll-server-Revert-to-old-implementation-of-hung-qu.patch	2019-04-27 22:44:18.130632085 +0100
@@ -6,16 +6,13 @@
 MIME-Version: 1.0
 Content-Type: text/plain; charset=UTF-8
 Content-Transfer-Encoding: 8bit
-
 By manually notifying the server every time we enter and exit a message wait.
-
 The hung queue logic keeps breaking. In the case of bug #9 it was breaking
 because we were waiting for more than 5 seconds on our queue and then someone
 sent us a message with SMTO_ABORTIFHUNG. Just stop fighting against the
 server and try to co√∂perate with it instead. It takes two extra server calls,
 but ideally the GUI thread isn't going to be in the same sort of performance-
 critical code that this patchset was written for.
-
 Signed-off-by: Zebediah Figura <z.figura12@gmail.com>
 ---
  dlls/ntdll/esync.c             | 53 +++++++++++++++++++++++++---------
@@ -25,7 +22,6 @@
  server/request.h               |  5 +++-
  server/trace.c                 |  8 +++++
  6 files changed, 100 insertions(+), 23 deletions(-)
-
 diff --git a/dlls/ntdll/esync.c b/dlls/ntdll/esync.c
 index f678ae8483..0ca8896202 100644
 --- a/dlls/ntdll/esync.c
@@ -147,17 +143,14 @@
  };
  union generic_reply
  {
-@@ -6631,8 +6644,9 @@ union generic_reply
+@@ -6937,6 +6950,7 @@ union generic_reply
      struct open_esync_reply open_esync_reply;
      struct get_esync_fd_reply get_esync_fd_reply;
      struct get_esync_apc_fd_reply get_esync_apc_fd_reply;
 +    struct esync_msgwait_reply esync_msgwait_reply;
  };
  
--#define SERVER_PROTOCOL_VERSION 576
-+#define SERVER_PROTOCOL_VERSION 577
  
- #endif /* __WINE_WINE_SERVER_PROTOCOL_H */
 diff --git a/server/protocol.def b/server/protocol.def
 index e79c5fe8fd..4caece2185 100644
 --- a/server/protocol.def
@@ -318,4 +311,3 @@
  static const struct
 -- 
 2.19.1
-
