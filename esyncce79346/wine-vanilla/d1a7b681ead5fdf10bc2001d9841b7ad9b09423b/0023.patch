--- a/0023-ntdll-wineandroid.drv-winemac.drv-winex11.drv-Store-.patch	2018-11-01 17:19:43.000000000 +0000
+++ b/0023-ntdll-wineandroid.drv-winemac.drv-winex11.drv-Store-.patch	2020-04-12 23:48:21.323878930 +0100
@@ -3,11 +3,8 @@
 Date: Tue, 12 Jun 2018 10:01:08 -0500
 Subject: [PATCH 23/83] ntdll, wineandroid.drv, winemac.drv, winex11.drv: Store
  the thread's queue fd in ntdll.
-
 I originally had esync grab it from the server in order to avoid touching the USER drivers, but this doesn't really work since we might perform a MsgWait before ever doing any operations which might initialize the USER driver's thread data. Doing it this way also has the advantage that we won't use extra file descriptors.
-
 In any case I haven't bothered to guard this code with do_esync(); it'd require adding that function to each USER driver and it's pretty obvious it's not going to affect anything if esync is disabled.
-
 Signed-off-by: Zebediah Figura <z.figura12@gmail.com>
 ---
  dlls/ntdll/esync.c             | 6 ++++++
@@ -18,7 +15,6 @@
  dlls/winemac.drv/macdrv_main.c | 3 +++
  dlls/winex11.drv/x11drv_main.c | 3 +++
  7 files changed, 20 insertions(+)
-
 diff --git a/dlls/ntdll/esync.c b/dlls/ntdll/esync.c
 index f77c84a18f..c4faf69a13 100644
 --- a/dlls/ntdll/esync.c
@@ -63,9 +59,9 @@
 --- a/dlls/ntdll/thread.c
 +++ b/dlls/ntdll/thread.c
 @@ -353,6 +353,7 @@ void thread_init(void)
+     thread_data->reply_fd   = -1;
      thread_data->wait_fd[0] = -1;
      thread_data->wait_fd[1] = -1;
-     thread_data->debug_info = &debug_info;
 +    thread_data->esync_queue_fd = -1;
  
      signal_init_thread( teb );
@@ -143,4 +139,3 @@
          MESSAGE( "x11drv: Can't allocate handle for display fd\n" );
 -- 
 2.19.1
-
