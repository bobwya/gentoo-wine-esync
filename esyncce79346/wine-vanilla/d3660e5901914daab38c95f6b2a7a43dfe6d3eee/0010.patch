--- a/0010-ntdll-Implement-NtResetEvent.patch	2018-11-01 17:19:43.000000000 +0000
+++ b/0010-ntdll-Implement-NtResetEvent.patch	2019-04-12 18:38:03.873774131 +0100
@@ -2,14 +2,12 @@
 From: Zebediah Figura <z.figura12@gmail.com>
 Date: Fri, 8 Jun 2018 15:44:49 -0500
 Subject: [PATCH 10/83] ntdll: Implement NtResetEvent().
-
 Signed-off-by: Zebediah Figura <z.figura12@gmail.com>
 ---
  dlls/ntdll/esync.c | 15 +++++++++++++++
  dlls/ntdll/esync.h |  1 +
  dlls/ntdll/sync.c  |  3 +++
  3 files changed, 19 insertions(+)
-
 diff --git a/dlls/ntdll/esync.c b/dlls/ntdll/esync.c
 index 39f42dbf04..85e0dbc7ff 100644
 --- a/dlls/ntdll/esync.c
@@ -52,7 +50,7 @@
 index c8047bfa3e..2e9142290d 100644
 --- a/dlls/ntdll/sync.c
 +++ b/dlls/ntdll/sync.c
-@@ -382,6 +382,9 @@ NTSTATUS WINAPI NtResetEvent( HANDLE handle, PULONG NumberOfThreadsReleased )
+@@ -437,6 +437,9 @@ NTSTATUS WINAPI NtResetEvent( HANDLE handle, LONG *prev_state )
  {
      NTSTATUS ret;
  
@@ -60,8 +58,7 @@
 +        return esync_reset_event( handle );
 +
      /* resetting an event can't release any thread... */
-     if (NumberOfThreadsReleased) *NumberOfThreadsReleased = 0;
+     if (prev_state) *prev_state = 0;
  
 -- 
 2.19.1
-
